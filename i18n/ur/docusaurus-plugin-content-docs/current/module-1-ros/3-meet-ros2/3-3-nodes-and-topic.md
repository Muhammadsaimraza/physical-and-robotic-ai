# سبق 3.3: نوڈس اور ٹاپکس

پچھلے سبق میں، آپ نے Turtlesim چلایا۔ آپ کے پاس ایک 	urtlesim_node پروسیس اور ایک 	urtle_teleop_key پروسیس ہے۔ لیکن ROS کے نقطہ نظر سے، یہ صرف عام پروسیسز ہیں۔ آئیے os2 CLI کا استعمال کرکے دیکھیں کہ اصل میں کیا ہو رہا ہے۔

اپنے دو Turtlesim نوڈز کو چلاتے ہوئے، ایک **تیسرا ٹرمینل** کھولیں اور اپنے ROS 2 ماحول کو سورس کریں۔

## نوڈس کی دریافت

os2 node کمانڈ ہمیں ROS گراف میں چلنے والے نوڈس کا معائنہ کرنے دیتی ہے۔
`ash
ros2 node list
`
آپ کو اس طرح کا آؤٹ پٹ نظر آنا چاہیے:
`
/turtlesim
/teleop_turtle
`
یہ ان دو نوڈس کے نام ہیں جو فی الحال چل رہے ہیں۔ نوٹ کریں کہ /teleop_turtle 	urtle_teleop_key ایگزیکیوٹیبل کا ڈیفالٹ نام ہے۔

## ٹاپکس کی دریافت

نوڈس ٹاپکس کا استعمال کرتے ہوئے بات چیت کرتے ہیں۔ آئیے دیکھتے ہیں کہ سسٹم میں فی الحال کون سے ٹاپکس فعال ہیں۔
`ash
ros2 topic list
`
یہ آپ کو ان تمام ٹاپکس کی فہرست دکھائے گا جن پر نوڈس یا تو پبلش کر رہے ہیں یا سبسکرائب کر رہے ہیں۔ آپ کو کچھ نظر آئیں گے، لیکن سب سے اہم یہ ہیں:
`
/turtle1/cmd_vel
/turtle1/pose
/parameter_events
/rosout
`
*   /turtle1/cmd_vel: یہ وہ ٹاپک ہے جہاں ٹیلی اوپ نوڈ رفتار کمانڈز پبلش کرتا ہے۔ cmd_vel نام ROS میں "کمانڈ ویلوسٹی" کے لیے ایک معیاری کنونشن ہے۔
*   /turtle1/pose: 	urtlesim_node کچھوے کی موجودہ پوزیشن اور اوریئنٹیشن (اس کا "پوز") اس ٹاپک پر پبلش کرتا ہے۔ اس طرح دوسرے نوڈس جان سکتے ہیں کہ کچھوا کہاں ہے۔
*   باقی دو ٹاپکس سسٹم وائڈ ایونٹس اور لاگنگ کے لیے استعمال ہوتے ہیں۔

## ایک ٹاپک پر جاسوسی کرنا

ہم os2 topic echo کا استعمال کرکے ان پیغامات کو حقیقی وقت میں پرنٹ کر سکتے ہیں جو ایک ٹاپک پر پبلش ہو رہے ہیں۔ آئیے کمانڈ ویلوسٹی ٹاپک کو سنتے ہیں۔

اپنے تیسرے ٹرمینل میں، چلائیں:
`ash
ros2 topic echo /turtle1/cmd_vel
`
پہلے تو آپ کو کچھ نظر نہیں آئے گا۔ لیکن اب، 	urtle_teleop_key چلانے والے ٹرمینل پر جائیں اور تیر والے بٹن دبائیں۔ آپ کو اپنے تیسرے ٹرمینل میں پیغامات نظر آنے لگیں گے!
`
linear:
  x: 2.0
  y: 0.0
  z: 0.0
angular:
  x: 0.0
  y: 0.0
  z: 0.0
---
`
آپ ٹیلی اوپ نوڈ کے پبلش کردہ Twist پیغامات کو "ایکو" کر رہے ہیں۔ یہ ایک ناقابل یقین حد تک طاقتور ڈیبگنگ ٹول ہے۔ یہ آپ کو اپنے سسٹم میں کسی بھی دو نوڈس کے درمیان بہنے والے خام ڈیٹا کو دیکھنے دیتا ہے بغیر ان کے کوڈ میں ترمیم کیے۔

اب کچھوے کو چلاتے ہوئے /turtle1/pose ٹاپک کو ایکو کرنے کی کوشش کریں۔
`ash
ros2 topic echo /turtle1/pose
`
آپ کو کچھوے کی بدلتی ہوئی x، y، اور 	heta (زاویہ) کی قدروں کو ظاہر کرنے والے پیغامات کا ایک مسلسل سلسلہ نظر آئے گا۔

## کمانڈ لائن سے پبلش کرنا

ہم کمانڈ لائن سے براہ راست پیغامات بھی پبلش کر سکتے ہیں، بغیر کسی الگ نوڈ کی ضرورت کے۔ یہ جانچ کے لیے مفید ہے۔

آئیے کچھوے کو ایک دائرے میں حرکت دیں۔ کمانڈ تھوڑی لمبی ہے:
`ash
ros2 topic pub --rate 1 /turtle1/cmd_vel geometry_msgs/msg/Twist "{linear: {x: 2.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.8}}"
`
آئیے اس کمانڈ کو توڑتے ہیں:
*   os2 topic pub: پیغام پبلش کرنے کی کمانڈ۔
*   --rate 1: پیغام کو 1 ہرٹز (ایک بار فی سیکنڈ) کی شرح سے پبلش کریں۔
*   /turtle1/cmd_vel: پبلش کرنے کا ٹاپک۔
*   geometry_msgs/msg/Twist: ہم جس قسم کا پیغام پبلش کر رہے ہیں اس کی **قسم**۔
*   "{...}": پیغام کے لیے اصل ڈیٹا، YAML فارمیٹ میں۔ ہم لکیری x رفتار کو 2.0 اور کونیی z رفتار کو 1.8 پر سیٹ کر رہے ہیں۔

جب آپ اسے چلاتے ہیں، تو آپ دیکھیں گے کہ کچھوا ایک دائرے میں حرکت کرنا شروع کر دیتا ہے، چاہے 	urtle_teleop_key نوڈ نہ چل رہا ہو! اب آپ روبوٹ کو براہ راست کمانڈ لائن سے کنٹرول کر رہے ہیں۔ پبلش کرنا بند کرنے کے لیے اس ٹرمینل میں Ctrl+C دبائیں۔

اب آپ کے پاس ROS 2 سسٹم کا معائنہ کرنے اور ڈیبگ کرنے کے لیے بنیادی ٹولز ہیں۔ اگلے سبق میں، ہم دوسرے اہم مواصلاتی نمونوں کو دریافت کریں گے: خدمات اور پیرامیٹرز۔
